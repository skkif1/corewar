.name "Mat"
.comment "Mat
	
T_DIR	%	10
T_IND		11
T_REG	r	01
fail        00	

	1010 // a0
	1011 // b0
	1001 // 90
	1000 // 80
	1111 //	f0
	1110 // e0
	1101 // d0
	1100 // c0
	0101 // 50
	0110 // 60
	0111 // 70
	0100 // 40
	0010 // 20
	0011 // 30
	0001 // 10
	0000 / 0


	1011
	1001
	1000
	
	1110
	1101
	1100
	
	0110
	0111
	0100
	
	0010
	0011
	0001
	0000


"
entry:
	sti			r1, %:zork, %1
	sti			r1, %:ardef, %1
	sti			r1, %:avdef, %1
	sti			r1, %:entry_l1, %1
	ld			%0, r16
	fork		%:zork

entry_l1:
	live		%42
	ld			%439025904, r2
	ld			%0, r16
	fork		%:avdef

################################################################################

ardef:
	live		%42
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	st			r2, -400
	zjmp		%:ardef

################################################################################

zork:
	live		%42
	zjmp		%:zork

################################################################################

avdef:
	live		%42
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	st			r2, 400
	zjmp		%:avdef
	